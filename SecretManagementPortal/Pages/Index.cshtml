@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<div class="text-center">
    <h1 class="display-4">Welcome</h1>
    <p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>


<h1>Upload a File</h1>
<form action="/FileUpload/upload" method="post" enctype="multipart/form-data">
    <input type="file" name="file" />
    <button type="submit">Upload</button>
</form>


    <h1>Image Gallery</h1>
    <div id="gallery"></div>

    <script>
        async function fetchImages() {
            const response = await fetch('/Image/images');
            const imageUrls = await response.json();

            const gallery = document.getElementById('gallery');
            imageUrls.forEach(url => {
                const img = document.createElement('img');
                img.src = url;
                img.style.width = '200px';
                gallery.appendChild(img);
            });
        }

        fetchImages();
    </script>
</div>
